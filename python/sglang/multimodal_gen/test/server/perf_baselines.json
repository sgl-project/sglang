{
    "metadata": {
        "model": "Diffusion Server",
        "hardware": "CI H100 80GB pool",
        "description": "Reference numbers captured from the CI diffusion server baseline run"
    },
    "tolerances": {
        "e2e": 0.05,
        "denoise_stage": 0.05,
        "non_denoise_stage": 0.3,
        "denoise_step": 0.2,
        "denoise_agg": 0.08
    },
    "improvement_reporting": {
        "threshold": 0.2
    },
    "sampling": {
        "step_fractions": [
            0.0,
            0.2,
            0.4,
            0.6,
            0.8,
            1.0
        ],
        "warmup_requests": {
            "text": 1,
            "image_edit": 0
        }
    },
    "scenarios": {
        "qwen_image_t2i": {
            "notes": "Single-image generation using the default prompt",
            "expected_e2e_ms": 74500.0,
            "expected_avg_denoise_ms": 422.42,
            "expected_median_denoise_ms": 410.62,
            "stages_ms": {
                "InputValidationStage": 0.1,
                "TextEncodingStage": 834.2,
                "ConditioningStage": 0.1,
                "TimestepPreparationStage": 10.6,
                "LatentPreparationStage": 11.8,
                "DenoisingStage": 21202.6,
                "DecodingStage": 512.6
            },
            "denoise_step_ms": {
                "0": 1077.77,
                "1": 345.13,
                "2": 413.8,
                "3": 405.49,
                "4": 408.14,
                "5": 409.06,
                "6": 408.85,
                "7": 410.53,
                "8": 407.51,
                "9": 409.44,
                "10": 408.65,
                "11": 410.14,
                "12": 411.74,
                "13": 409.59,
                "14": 409.17,
                "15": 410.78,
                "16": 410.66,
                "17": 410.58,
                "18": 411.27,
                "19": 410.51,
                "20": 409.03,
                "21": 410.16,
                "22": 409.42,
                "23": 411.03,
                "24": 410.18,
                "25": 409.72,
                "26": 410.26,
                "27": 410.21,
                "28": 410.71,
                "29": 470.76,
                "30": 411.06,
                "31": 410.1,
                "32": 410.55,
                "33": 410.77,
                "34": 410.74,
                "35": 411.75,
                "36": 410.78,
                "37": 411.56,
                "38": 410.85,
                "39": 411.08,
                "40": 411.12,
                "41": 411.1,
                "42": 411.09,
                "43": 410.87,
                "44": 411.37,
                "45": 411.68,
                "46": 411.0,
                "47": 410.09,
                "48": 412.72,
                "49": 410.42
            }
        },
        "flux_image_t2i": {
            "stages_ms": {
                "InputValidationStage": 0.03,
                "TextEncodingStage": 81.49,
                "ConditioningStage": 0.01,
                "TimestepPreparationStage": 2.43,
                "LatentPreparationStage": 6.29,
                "DenoisingStage": 8381.3,
                "DecodingStage": 653.03
            },
            "denoise_step_ms": {
                "0": 165.27,
                "1": 58.88,
                "2": 166.85,
                "3": 166.51,
                "4": 166.77,
                "5": 167.55,
                "6": 172.4,
                "7": 167.77,
                "8": 167.51,
                "9": 167.22,
                "10": 168.19,
                "11": 167.74,
                "12": 168.48,
                "13": 168.08,
                "14": 168.16,
                "15": 167.15,
                "16": 167.05,
                "17": 169.27,
                "18": 167.96,
                "19": 167.74,
                "20": 168.21,
                "21": 167.07,
                "22": 167.35,
                "23": 167.06,
                "24": 169.28,
                "25": 169.41,
                "26": 168.92,
                "27": 167.59,
                "28": 167.57,
                "29": 170.42,
                "30": 166.24,
                "31": 168.33,
                "32": 168.56,
                "33": 168.62,
                "34": 167.28,
                "35": 167.12,
                "36": 168.21,
                "37": 168.78,
                "38": 168.89,
                "39": 167.74,
                "40": 168.57,
                "41": 167.89,
                "42": 168.03,
                "43": 167.61,
                "44": 167.75,
                "45": 168.03,
                "46": 168.81,
                "47": 168.29,
                "48": 168.64,
                "49": 168.78
            },
            "expected_e2e_ms": 9275.51,
            "expected_avg_denoise_ms": 165.83,
            "expected_median_denoise_ms": 169.33
        },
        "qwen_image_edit_ti2i": {
            "notes": "single uploaded reference image, Qwen/Qwen-Image-Edit",
            "expected_e2e_ms": 138500.0,
            "expected_avg_denoise_ms": 720.0,
            "expected_median_denoise_ms": 718.0,
            "stages_ms": {
                "InputValidationStage": 23,
                "ImageEncodingStage": 1485.0,
                "ImageVAEEncodingStage": 350.0,
                "ConditioningStage": 0.13,
                "TimestepPreparationStage": 13.78,
                "LatentPreparationStage": 15.0,
                "DenoisingStage": 36000.0,
                "DecodingStage": 850.0
            },
            "denoise_step_ms": {
                "0": 720.0,
                "1": 720.0,
                "2": 720.0,
                "3": 720.0,
                "4": 720.0,
                "5": 720.0,
                "6": 720.0,
                "7": 720.0,
                "8": 720.0,
                "9": 720.0,
                "10": 720.0,
                "11": 720.0,
                "12": 720.0,
                "13": 720.0,
                "14": 720.0,
                "15": 720.0,
                "16": 720.0,
                "17": 720.0,
                "18": 720.0,
                "19": 720.0,
                "20": 720.0,
                "21": 720.0,
                "22": 720.0,
                "23": 720.0,
                "24": 720.0,
                "25": 720.0,
                "26": 720.0,
                "27": 720.0,
                "28": 720.0,
                "29": 720.0,
                "30": 720.0,
                "31": 720.0,
                "32": 720.0,
                "33": 720.0,
                "34": 720.0,
                "35": 720.0,
                "36": 720.0,
                "37": 720.0,
                "38": 720.0,
                "39": 720.0,
                "40": 720.0,
                "41": 720.0,
                "42": 720.0,
                "43": 720.0,
                "44": 720.0,
                "45": 720.0,
                "46": 720.0,
                "47": 720.0,
                "48": 720.0,
                "49": 720.0
            }
        },
        "wan2_1_t2v_1.3b": {
            "stages_ms": {
                "InputValidationStage": 0.06,
                "TextEncodingStage": 3595.12,
                "ConditioningStage": 0.02,
                "TimestepPreparationStage": 2.39,
                "LatentPreparationStage": 15.27,
                "DenoisingStage": 91099.4,
                "DecodingStage": 4330.65,
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 2918.67,
                "1": 1784.23,
                "2": 1797.72,
                "3": 1798.8,
                "4": 1798.19,
                "5": 1799.27,
                "6": 1798.54,
                "7": 1798.67,
                "8": 1798.76,
                "9": 1798.34,
                "10": 1799.22,
                "11": 1798.61,
                "12": 1799.4,
                "13": 1799.04,
                "14": 1797.41,
                "15": 1799.05,
                "16": 1798.32,
                "17": 1799.12,
                "18": 1799.56,
                "19": 1797.01,
                "20": 1798.28,
                "21": 1799.06,
                "22": 1800.05,
                "23": 1797.76,
                "24": 1798.16,
                "25": 1798.62,
                "26": 1798.64,
                "27": 1799.44,
                "28": 1798.79,
                "29": 1798.13,
                "30": 1797.47,
                "31": 1799.4,
                "32": 1798.77,
                "33": 1799.47,
                "34": 1798.49,
                "35": 1796.51,
                "36": 1799.68,
                "37": 1799.24,
                "38": 1798.49,
                "39": 1799.66,
                "40": 1797.04,
                "41": 1799.58,
                "42": 1797.35,
                "43": 1798.07,
                "44": 1798.6,
                "45": 1798.95,
                "46": 1799.51,
                "47": 1798.25,
                "48": 1799.04,
                "49": 1798.34
            },
            "expected_e2e_ms": 99083.75,
            "expected_avg_denoise_ms": 1820.02,
            "expected_median_denoise_ms": 1798.65
        },
        "wan2_2_i2v_a14b": {
            "stages_ms": {
                "InputValidationStage": 33.55,
                "TextEncodingStage": 2291.94,
                "ConditioningStage": 0.03,
                "TimestepPreparationStage": 2.37,
                "LatentPreparationStage": 8.87,
                "ImageVAEEncodingStage": 2092.43,
                "DenoisingStage": 255868.61,
                "DecodingStage": 2747.78,
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 24266.38,
                "1": 4987.24,
                "2": 5023.9,
                "3": 5033.86,
                "4": 5039.19,
                "5": 5049.18,
                "6": 5036.97,
                "7": 5037.92,
                "8": 5040.91,
                "9": 5051.29,
                "10": 5039.41,
                "11": 5049.76,
                "12": 5044.17,
                "13": 5049.54,
                "14": 5050.61,
                "15": 39939.62,
                "16": 5037.41,
                "17": 5055.67,
                "18": 5059.63,
                "19": 5070.04,
                "20": 5078.54,
                "21": 5079.15,
                "22": 5065.42,
                "23": 5064.19,
                "24": 5065.35,
                "25": 5059.83,
                "26": 5055.47,
                "27": 5048.03,
                "28": 5044.28,
                "29": 5044.19,
                "30": 5040.91,
                "31": 5037.98,
                "32": 5026.15,
                "33": 5027.36,
                "34": 5018.56,
                "35": 5007.23,
                "36": 5012.65,
                "37": 5013.68,
                "38": 5005.83,
                "39": 5000.26
            },
            "expected_e2e_ms": 263069.24,
            "expected_avg_denoise_ms": 6393.94,
            "expected_median_denoise_ms": 5044.18
        },
        "wan2_1_i2v_14b_480P": {
            "stages_ms": {
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 5432.37,
                "1": 4861.66,
                "2": 4890.23,
                "3": 4919.9,
                "4": 4929.49,
                "5": 4927.35,
                "6": 4927.6,
                "7": 4932.02,
                "8": 4897.83,
                "9": 4897.16,
                "10": 4899.59,
                "11": 4901.51,
                "12": 4896.38,
                "13": 4914.3,
                "14": 4901.91,
                "15": 4898.58,
                "16": 4903.18,
                "17": 4899.54,
                "18": 4910.5,
                "19": 4898.18,
                "20": 4901.56,
                "21": 4903.12,
                "22": 4896.82,
                "23": 4901.01,
                "24": 4897.42,
                "25": 4911.94,
                "26": 4901.29,
                "27": 4894.79,
                "28": 4899.57,
                "29": 4900.63,
                "30": 4904.78,
                "31": 4899.79,
                "32": 4898.01,
                "33": 4910.81,
                "34": 4901.16,
                "35": 4898.48,
                "36": 4894.97,
                "37": 4905.9,
                "38": 4901.52,
                "39": 4898.56,
                "40": 4900.19,
                "41": 4896.5,
                "42": 4899.89,
                "43": 4898.45,
                "44": 4897.27,
                "45": 4895.47,
                "46": 4889.26,
                "47": 4887.44,
                "48": 4894.07,
                "49": 4888.59
            },
            "expected_e2e_ms": 254552.63,
            "expected_avg_denoise_ms": 4912.17,
            "expected_median_denoise_ms": 4899.69
        },
        "wan2_1_i2v_14b_720P": {
            "stages_ms": {
                "InputValidationStage": 53.67,
                "TextEncodingStage": 2838,
                "ImageEncodingStage": 2694.14,
                "ConditioningStage": 0.01,
                "TimestepPreparationStage": 2.25,
                "LatentPreparationStage": 5.27,
                "ImageVAEEncodingStage": 1887.72,
                "DenoisingStage": 245828.78,
                "DecodingStage": 2872.0,
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 5432.36,
                "1": 4867.45,
                "2": 4903.52,
                "3": 4916.85,
                "4": 4928.58,
                "5": 4927.72,
                "6": 4916.65,
                "7": 4910.61,
                "8": 4900.32,
                "9": 4901.14,
                "10": 4907.02,
                "11": 4908.95,
                "12": 4903.16,
                "13": 4910.68,
                "14": 4907.48,
                "15": 4901.52,
                "16": 4909.76,
                "17": 4905.68,
                "18": 4904.09,
                "19": 4908.87,
                "20": 4897.14,
                "21": 4905.94,
                "22": 4916.29,
                "23": 4904.12,
                "24": 4912.86,
                "25": 4904.16,
                "26": 4916.7,
                "27": 4918.63,
                "28": 4903.83,
                "29": 4909.2,
                "30": 4898.29,
                "31": 4901.82,
                "32": 4902.38,
                "33": 4910.32,
                "34": 4903.55,
                "35": 4902.21,
                "36": 4907.05,
                "37": 4911.2,
                "38": 4898.33,
                "39": 4902.63,
                "40": 4895.15,
                "41": 4898.9,
                "42": 4901.14,
                "43": 4896.49,
                "44": 4899.01,
                "45": 4896.71,
                "46": 4887.24,
                "47": 4892.91,
                "48": 4886.71,
                "49": 4885.16
            },
            "expected_e2e_ms": 254809.55,
            "expected_avg_denoise_ms": 4914.77,
            "expected_median_denoise_ms": 4903.96
        },
        "wan2_2_ti2v_5b": {
            "stages_ms": {
                "InputValidationStage": 94.18,
                "TextEncodingStage": 3413.73,
                "ConditioningStage": 0.02,
                "TimestepPreparationStage": 2.48,
                "LatentPreparationStage": 22.52,
                "DenoisingStage": 30000,
                "DecodingStage": 12793.58,
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 1021.97,
                "1": 407.7,
                "2": 410.44,
                "3": 411.69,
                "4": 411.45,
                "5": 410.84,
                "6": 411.26,
                "7": 412.68,
                "8": 412.24,
                "9": 410.15,
                "10": 413.4,
                "11": 410.18,
                "12": 411.94,
                "13": 411.54,
                "14": 409.91,
                "15": 412.89,
                "16": 412.08,
                "17": 411.64,
                "18": 411.58,
                "19": 410.54,
                "20": 411.42,
                "21": 412.88,
                "22": 412.22,
                "23": 412.97,
                "24": 412.13,
                "25": 413.21,
                "26": 413.07,
                "27": 410.89,
                "28": 411.56,
                "29": 414.19,
                "30": 412.68,
                "31": 411.13,
                "32": 412.41,
                "33": 412.79,
                "34": 411.02,
                "35": 410.2,
                "36": 410.27,
                "37": 411.63,
                "38": 410.8,
                "39": 411.52,
                "40": 411.6,
                "41": 411.75,
                "42": 410.56,
                "43": 411.65,
                "44": 411.82,
                "45": 410.83,
                "46": 410.61,
                "47": 411.5,
                "48": 410.61,
                "49": 411.6
            },
            "expected_e2e_ms": 32954.73,
            "expected_avg_denoise_ms": 423.75,
            "expected_median_denoise_ms": 411.59
        }
    }
}
