{
    "metadata": {
        "model": "Diffusion Server",
        "hardware": "CI H100 80GB pool",
        "description": "Reference numbers captured from the CI diffusion server baseline run"
    },
    "tolerances": {
        "e2e": 0.05,
        "denoise_stage": 0.05,
        "non_denoise_stage": 0.15,
        "denoise_step": 0.15,
        "denoise_agg": 0.08
    },
    "improvement_reporting": {
        "threshold": 0.2
    },
    "sampling": {
        "step_fractions": [
            0.0,
            0.2,
            0.4,
            0.6,
            0.8,
            1.0
        ],
        "warmup_requests": {
            "text": 1,
            "image_edit": 0
        }
    },
    "scenarios": {
        "qwen_image_t2i": {
            "notes": "Single-image generation using the default prompt",
            "expected_e2e_ms": 74500.0,
            "expected_avg_denoise_ms": 422.42,
            "expected_median_denoise_ms": 410.62,
            "stages_ms": {
                "InputValidationStage": 0.1,
                "TextEncodingStage": 834.2,
                "ConditioningStage": 0.1,
                "TimestepPreparationStage": 10.6,
                "LatentPreparationStage": 11.8,
                "DenoisingStage": 21202.6,
                "DecodingStage": 512.6
            },
            "denoise_step_ms": {
                "0": 1077.77,
                "1": 345.13,
                "2": 413.8,
                "3": 405.49,
                "4": 408.14,
                "5": 409.06,
                "6": 408.85,
                "7": 410.53,
                "8": 407.51,
                "9": 409.44,
                "10": 408.65,
                "11": 410.14,
                "12": 411.74,
                "13": 409.59,
                "14": 409.17,
                "15": 410.78,
                "16": 410.66,
                "17": 410.58,
                "18": 411.27,
                "19": 410.51,
                "20": 409.03,
                "21": 410.16,
                "22": 409.42,
                "23": 411.03,
                "24": 410.18,
                "25": 409.72,
                "26": 410.26,
                "27": 410.21,
                "28": 410.71,
                "29": 410.76,
                "30": 411.06,
                "31": 410.1,
                "32": 410.55,
                "33": 410.77,
                "34": 410.74,
                "35": 411.75,
                "36": 410.78,
                "37": 411.56,
                "38": 410.85,
                "39": 411.08,
                "40": 411.12,
                "41": 411.1,
                "42": 411.09,
                "43": 410.87,
                "44": 411.37,
                "45": 411.68,
                "46": 411.0,
                "47": 410.09,
                "48": 412.72,
                "49": 410.42
            }
        },
        "flux_image_t2i": {
            "stages_ms": {
                "InputValidationStage": 1.06,
                "TextEncodingStage": 56.29,
                "ConditioningStage": 0.01,
                "TimestepPreparationStage": 1.91,
                "LatentPreparationStage": 4.92,
                "DenoisingStage": 8154.07,
                "DecodingStage": 386.20
            },
            "denoise_step_ms": {
                "0": 56.03,
                "1": 57.19,
                "2": 162.79,
                "3": 162.71,
                "4": 163.85,
                "5": 163.34,
                "6": 170.21,
                "7": 165.57,
                "8": 163.95,
                "9": 164.27,
                "10": 163.75,
                "11": 163.55,
                "12": 166.11,
                "13": 166.15,
                "14": 166.15,
                "15": 164.95,
                "16": 163.63,
                "17": 164.53,
                "18": 165.59,
                "19": 165.06,
                "20": 165.73,
                "21": 164.28,
                "22": 164.29,
                "23": 165.02,
                "24": 165.53,
                "25": 164.88,
                "26": 165.92,
                "27": 164.68,
                "28": 164.75,
                "29": 165.02,
                "30": 164.16,
                "31": 164.61,
                "32": 165.43,
                "33": 165.0,
                "34": 164.6,
                "35": 164.78,
                "36": 165.14,
                "37": 164.53,
                "38": 165.46,
                "39": 165.48,
                "40": 164.8,
                "41": 166.22,
                "42": 166.08,
                "43": 164.82,
                "44": 165.29,
                "45": 165.72,
                "46": 165.4,
                "47": 165.57,
                "48": 164.96,
                "49": 166.05
            },
            "expected_e2e_ms": 8677.09,
            "expected_avg_denoise_ms": 160.67,
            "expected_median_denoise_ms": 164.96
        },
        "qwen_image_edit_ti2i": {
            "notes": "single uploaded reference image, Qwen/Qwen-Image-Edit",
            "expected_e2e_ms": 138500.0,
            "expected_avg_denoise_ms": 720.0,
            "expected_median_denoise_ms": 718.0,
            "stages_ms": {
                "InputValidationStage": 23,
                "ImageEncodingStage": 1485.0,
                "ImageVAEEncodingStage": 350.0,
                "ConditioningStage": 0.13,
                "TimestepPreparationStage": 13.78,
                "LatentPreparationStage": 15.0,
                "DenoisingStage": 36000.0,
                "DecodingStage": 850.0
            },
            "denoise_step_ms": {
                "0": 720.0,
                "1": 720.0,
                "2": 720.0,
                "3": 720.0,
                "4": 720.0,
                "5": 720.0,
                "6": 720.0,
                "7": 720.0,
                "8": 720.0,
                "9": 720.0,
                "10": 720.0,
                "11": 720.0,
                "12": 720.0,
                "13": 720.0,
                "14": 720.0,
                "15": 720.0,
                "16": 720.0,
                "17": 720.0,
                "18": 720.0,
                "19": 720.0,
                "20": 720.0,
                "21": 720.0,
                "22": 720.0,
                "23": 720.0,
                "24": 720.0,
                "25": 720.0,
                "26": 720.0,
                "27": 720.0,
                "28": 720.0,
                "29": 720.0,
                "30": 720.0,
                "31": 720.0,
                "32": 720.0,
                "33": 720.0,
                "34": 720.0,
                "35": 720.0,
                "36": 720.0,
                "37": 720.0,
                "38": 720.0,
                "39": 720.0,
                "40": 720.0,
                "41": 720.0,
                "42": 720.0,
                "43": 720.0,
                "44": 720.0,
                "45": 720.0,
                "46": 720.0,
                "47": 720.0,
                "48": 720.0,
                "49": 720.0
            }
        },
        "wan2_1_t2v_1.3b": {
            "stages_ms": {
                "InputValidationStage": 0.08,
                "TextEncodingStage": 2945.3,
                "ConditioningStage": 0.01,
                "TimestepPreparationStage": 1.97,
                "LatentPreparationStage": 6.85,
                "DenoisingStage": 69372.83,
                "DecodingStage": 3617.56,
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 2831.7,
                "1": 1356.14,
                "2": 1368.21,
                "3": 1369.72,
                "4": 1369.99,
                "5": 1369.59,
                "6": 1373.51,
                "7": 1370.87,
                "8": 1372.93,
                "9": 1374.36,
                "10": 1377.02,
                "11": 1369.3,
                "12": 1371.37,
                "13": 1372.18,
                "14": 1374.18,
                "15": 1372.42,
                "16": 1372.78,
                "17": 1373.88,
                "18": 1374.75,
                "19": 1373.75,
                "20": 1374.48,
                "21": 1373.56,
                "22": 1372.96,
                "23": 1373.94,
                "24": 1375.37,
                "25": 1374.7,
                "26": 1375.98,
                "27": 1375.46,
                "28": 1375.66,
                "29": 1374.0,
                "30": 1374.51,
                "31": 1378.0,
                "32": 1377.06,
                "33": 1373.76,
                "34": 1373.49,
                "35": 1374.65,
                "36": 1376.83,
                "37": 1376.62,
                "38": 1376.01,
                "39": 1376.99,
                "40": 1374.0,
                "41": 1374.25,
                "42": 1374.06,
                "43": 1373.53,
                "44": 1372.87,
                "45": 1374.37,
                "46": 1376.22,
                "47": 1375.73,
                "48": 1376.33,
                "49": 1373.45
            },
            "expected_e2e_ms": 75157.98,
            "expected_avg_denoise_ms": 1386.08,
            "expected_median_denoise_ms": 1374.03
        },
        "wan2_2_i2v_a14b": {
            "stages_ms": {
                "InputValidationStage": 33.55,
                "TextEncodingStage": 2236.59,
                "ConditioningStage": 0.01,
                "TimestepPreparationStage": 1.52,
                "LatentPreparationStage": 7.01,
                "ImageVAEEncodingStage": 2068,
                "DenoisingStage": 231725.24,
                "DecodingStage": 2655.39,
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 18686.84,
                "1": 4872.1,
                "2": 4907.91,
                "3": 4912.87,
                "4": 4916.4,
                "5": 4899.71,
                "6": 4898.83,
                "7": 4899.0,
                "8": 4913.25,
                "9": 4904.2,
                "10": 4908.81,
                "11": 4907.16,
                "12": 4909.81,
                "13": 4909.15,
                "14": 4907.37,
                "15": 26749.56,
                "16": 4891.89,
                "17": 4883.41,
                "18": 4885.81,
                "19": 4892.38,
                "20": 4894.36,
                "21": 4894.3,
                "22": 4902.87,
                "23": 4901.43,
                "24": 4901.22,
                "25": 4900.06,
                "26": 4900.19,
                "27": 4908.87,
                "28": 4902.73,
                "29": 4900.45,
                "30": 4897.09,
                "31": 4901.3,
                "32": 4900.94,
                "33": 4898.13,
                "34": 4900.62,
                "35": 4897.47,
                "36": 4900.57,
                "37": 4897.09,
                "38": 4897.7,
                "39": 4888.4
            },
            "expected_e2e_ms": 257132.95,
            "expected_avg_denoise_ms": 5791.06,
            "expected_median_denoise_ms": 4900.59
        },
        "wan2_1_i2v_14b_480P": {
            "stages_ms": {
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 5432.37,
                "1": 4861.66,
                "2": 4890.23,
                "3": 4919.9,
                "4": 4929.49,
                "5": 4927.35,
                "6": 4927.6,
                "7": 4932.02,
                "8": 4897.83,
                "9": 4897.16,
                "10": 4899.59,
                "11": 4901.51,
                "12": 4896.38,
                "13": 4914.3,
                "14": 4901.91,
                "15": 4898.58,
                "16": 4903.18,
                "17": 4899.54,
                "18": 4910.5,
                "19": 4898.18,
                "20": 4901.56,
                "21": 4903.12,
                "22": 4896.82,
                "23": 4901.01,
                "24": 4897.42,
                "25": 4911.94,
                "26": 4901.29,
                "27": 4894.79,
                "28": 4899.57,
                "29": 4900.63,
                "30": 4904.78,
                "31": 4899.79,
                "32": 4898.01,
                "33": 4910.81,
                "34": 4901.16,
                "35": 4898.48,
                "36": 4894.97,
                "37": 4905.9,
                "38": 4901.52,
                "39": 4898.56,
                "40": 4900.19,
                "41": 4896.5,
                "42": 4899.89,
                "43": 4898.45,
                "44": 4897.27,
                "45": 4895.47,
                "46": 4889.26,
                "47": 4887.44,
                "48": 4894.07,
                "49": 4888.59
            },
            "expected_e2e_ms": 254552.63,
            "expected_avg_denoise_ms": 4912.17,
            "expected_median_denoise_ms": 4899.69
        },
        "wan2_2_i2v_14b_720P": {
            "stages_ms": {
                "InputValidationStage": 53.67,
                "TextEncodingStage": 2228.89,
                "ImageEncodingStage": 2694.14,
                "ConditioningStage": 0.01,
                "TimestepPreparationStage": 2.25,
                "LatentPreparationStage": 5.27,
                "ImageVAEEncodingStage": 1887.72,
                "DenoisingStage": 245828.78,
                "DecodingStage": 2872.0,
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 5432.36,
                "1": 4867.45,
                "2": 4903.52,
                "3": 4916.85,
                "4": 4928.58,
                "5": 4927.72,
                "6": 4916.65,
                "7": 4910.61,
                "8": 4900.32,
                "9": 4901.14,
                "10": 4907.02,
                "11": 4908.95,
                "12": 4903.16,
                "13": 4910.68,
                "14": 4907.48,
                "15": 4901.52,
                "16": 4909.76,
                "17": 4905.68,
                "18": 4904.09,
                "19": 4908.87,
                "20": 4897.14,
                "21": 4905.94,
                "22": 4916.29,
                "23": 4904.12,
                "24": 4912.86,
                "25": 4904.16,
                "26": 4916.7,
                "27": 4918.63,
                "28": 4903.83,
                "29": 4909.2,
                "30": 4898.29,
                "31": 4901.82,
                "32": 4902.38,
                "33": 4910.32,
                "34": 4903.55,
                "35": 4902.21,
                "36": 4907.05,
                "37": 4911.2,
                "38": 4898.33,
                "39": 4902.63,
                "40": 4895.15,
                "41": 4898.9,
                "42": 4901.14,
                "43": 4896.49,
                "44": 4899.01,
                "45": 4896.71,
                "46": 4887.24,
                "47": 4892.91,
                "48": 4886.71,
                "49": 4885.16
            },
            "expected_e2e_ms": 254809.55,
            "expected_avg_denoise_ms": 4914.77,
            "expected_median_denoise_ms": 4903.96
        },
        "wan2_2_ti2v_5b": {
            "stages_ms": {
                "InputValidationStage": 79.9,
                "TextEncodingStage": 2241.88,
                "ConditioningStage": 0.01,
                "TimestepPreparationStage": 1.63,
                "LatentPreparationStage": 22.52,
                "DenoisingStage": 130094.11,
                "DecodingStage": 12793.58,
                "per_frame_generation": null
            },
            "denoise_step_ms": {
                "0": 3092.88,
                "1": 2526.43,
                "2": 2544.76,
                "3": 2543.33,
                "4": 2545.33,
                "5": 2542.44,
                "6": 2540.33,
                "7": 2542.23,
                "8": 2544.87,
                "9": 2547.86,
                "10": 2548.18,
                "11": 2551.13,
                "12": 2547.02,
                "13": 2551.31,
                "14": 2551.97,
                "15": 2549.61,
                "16": 2551.75,
                "17": 2552.97,
                "18": 2551.2,
                "19": 2555.07,
                "20": 2552.72,
                "21": 2551.24,
                "22": 2554.63,
                "23": 2555.52,
                "24": 2555.06,
                "25": 2550.04,
                "26": 2554.88,
                "27": 2553.69,
                "28": 2550.75,
                "29": 2555.17,
                "30": 2556.75,
                "31": 2554.22,
                "32": 2552.74,
                "33": 2554.31,
                "34": 2554.98,
                "35": 2553.65,
                "36": 2552.21,
                "37": 2554.85,
                "38": 2555.96,
                "39": 2553.78,
                "40": 2553.5,
                "41": 2550.98,
                "42": 2555.66,
                "43": 2551.91,
                "44": 2551.23,
                "45": 2555.91,
                "46": 2556.11,
                "47": 2548.55,
                "48": 2552.78,
                "49": 2553.49
            },
            "expected_e2e_ms": 145253.72,
            "expected_avg_denoise_ms": 2561.76,
            "expected_median_denoise_ms": 2552.46
        }
    }
}
